<script>
    function ranN(minNum, maxNum) {
        return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10)
    }
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
            navigator.serviceWorker.register(`./sw.js?time=${ranN(1, 88888888888888888888)}`)
                .then(reg => {
                    document.getElementById('p').innerText = "尝试刷新"
                    window.location.reload()
                }).catch(err => {
                    document.getElementById('p').innerText = "注册失败"
                })
        });
    } else {
        document.getElementById('p').innerText = "当前浏览器不支持SW"
    }
</script>

<h1 id="p">注册ServiceWorker中...</h1>
